<html>
    <head>
        <title>Self Tracker from My Phone</title>
    </head>
    <body>

        <script>
            let inputs;
            
            /**
             * When the window loads, build the page
             */
            window.onload = function(e){
                getInputs();
            };

            function getInputs(){
                fetch('/api').then(result => {
                    return result.json();
                }).then(result => {
                    //console.log(result);
                    inputs = result;

                    for(let i = 0; i < inputs.length; i++){
                        baseToImage(inputs[i].img);
                    }
                }).catch(err => {
                    return err;
                })
            }

            function baseToImage(bString){
                let img = document.createElement('img');
                img.width = 320;
                img.height = 240;
                img.src = "data:image/jpeg;base64," + bString;
                document.body.appendChild(img);
            }

            
        </script>
    </body>
</html>